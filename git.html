<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Introduction to R: Version control with <code>git</code></title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [ ['$','$'], ['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav incubator"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Carpentries Incubator" src="assets/images/incubator-logo.svg"><abbr class="icon" title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught." style="text-decoration: unset">
           
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#early-development-pre-alpha-through-alpha" class="external-link alert-link" style="color: #383838">Pre-Alpha
            <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="color: #FF4955; border-radius: 5px"></i>
          </a>
          <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container ">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/git.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav incubator" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Carpentries Incubator" src="assets/images/incubator-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Introduction to R
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
      <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Introduction to R
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"></ul></li>
      </ul></div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled><input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset></form>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Introduction to R
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 69%" class="percentage">
    69%
  </div>
  <div class="progress incubator">
    <div class="progress-bar incubator" role="progressbar" style="width: 69%" aria-valuenow="69" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
  <div id="sidebar-col" class="col-lg-4">
    <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle"><i class="search-icon" data-feather="x" role="img"></i></button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/git.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. Introduction to R and Rstudio</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="reading-in-data-readr-and-readxl.html">2. Reading in data</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="tidying-data.html">3. Tidy data</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="manipulating-data.html">4. Data wrangling</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="visualizing-data.html">5. Data visualization</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="intro-bioconductor.html">6. <code>Bioconductor</code> and other bioinformatics packages</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="intro-rmarkdown.html">7. Using <code>R markdown</code> for notebooks and documents</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapsecurrent" aria-expanded="true" aria-controls="flush-collapsecurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        Version control with <code>git</code>
        </span>
      </button>
    </div><!--/div.accordion-header-->
        
    <div id="flush-collapsecurrent" class="accordion-collapse collapse show" aria-labelledby="flush-headingcurrent" data-bs-parent="#accordionFlushcurrent">
      <div class="accordion-body">
        <ul><li><a href="#version-control-with-git">Version control with <code>git</code></a></li>
<li><a href="#creating-a-repository">Creating a repository</a></li>
<li><a href="#making-changes">Making changes</a></li>
<li><a href="#branches">Branches</a></li>
<li><a href="#command-line-git">Command line git</a></li>
<li><a href="#git-gotchas">Git gotchas</a></li>
<li><a href="#resources">Resources</a></li>
        </ul></div><!--/div.accordion-body-->
    </div><!--/div.accordion-collapse-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="worked-example.html">9. Case study</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="intro-rmarkdown.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="worked-example.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="intro-rmarkdown.html" rel="prev"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous: Using &lt;code&gt;R markdown&lt;/code&gt;</a>
        <a class="chapter-link float-end" href="worked-example.html" rel="next">Next: Case study... <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Version control with <code>git</code></h1>
        <p> Last updated on 2023-01-03 | 
        
        <a href="https://github.com/carpentries/workbench-template-rmd/edit/main/episodes/git.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>What is version control?</li>
<li>How to use git in Rstudio?</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul><li>Explain the basics of git</li>
<li>Demonstrate how stage and commit files</li>
<li>Demonstrate pulls and pushes from a remote repository</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="challenge1" class="callout challenge">
<div class="callout-square">
<i class="callout-icon" data-feather="zap"></i>
</div>
<div id="do-i-need-to-do-this-lesson" class="callout-inner">
<h3 class="callout-title">Do I need to do this lesson?<a class="anchor" aria-label="anchor" href="#challenge1"></a>
</h3>
<div class="callout-content">
<p>If you’ve used <code>git</code> and <code>github</code> before, and are comfortable staging, committing, pushing and pulling changes, then you can skip this lesson.</p>
</div>
</div>
</div>
<div id="accordionSolution1" class="accordion challenge-accordion accordion-flush">
<div class="accordion-item">
<button class="accordion-button solution-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSolution1" aria-expanded="false" aria-controls="collapseSolution1">
  <h4 class="accordion-header" id="headingSolution1">
  Show me the solution
  </h4>
</button>
<div id="collapseSolution1" class="accordion-collapse collapse" data-bs-parent="#accordionSolution1" aria-labelledby="headingSolution1">
<div class="accordion-body">
<p>Read the rest of the lesson if you don’t know how to stage, commit, push or pull changes!</p>
</div>
</div>
</div>
</div>
<section id="version-control-with-git"><h2 class="section-heading">Version control with <code>git</code><a class="anchor" aria-label="anchor" href="#version-control-with-git"></a>
</h2>
<hr class="half-width"><p>Have you ever needed to refer back to the edit history of a document to restore a change you’d made? Or maybe you’ve sometimes worried about losing files that are only on your computer? Do you waste lots of time deploying software manually?</p>
<p>OK, so maybe most of you probably haven’t wasted time deploying software manually, but perhaps the other two are concerns you’ve had at some point.</p>
<p>All of these issues can be solved with the version control software <code>git</code>, when used together with a cloud-based repository such as github, bitbucket or gitlab.</p>
<p><code>git</code> keeps track of all the revisions to a repository that contains your code, allowing you to see when and where changes were made.</p>
<figure><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--Dilp_rhi--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/yi9n7h1klm5m6e3odcsa.png" alt="" class="figure mx-auto d-block"><figcaption>Git commit timeline <a href="https://dev.to/milu_franz/git-explained-the-basics-igc" class="external-link">Image credit</a></figcaption></figure><p>It also allows you to collaborate easily with other people with branches and methods for merging changes.</p>
<figure><img src="https://res.cloudinary.com/practicaldev/image/fetch/s--pfmhZlvH--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_auto%2Cw_880/https://dev-to-uploads.s3.amazonaws.com/i/8ito8dl7a62luwhp18xv.png" alt="" class="figure mx-auto d-block"><figcaption>Git branches <a href="https://dev.to/milu_franz/git-explained-the-basics-igc" class="external-link">Image credit</a></figcaption></figure><p>In my opinion, it’s an essential part of any project that involves code. So how does it work?</p>
</section><section id="creating-a-repository"><h2 class="section-heading">Creating a repository<a class="anchor" aria-label="anchor" href="#creating-a-repository"></a>
</h2>
<hr class="half-width"><p>We’ll be working with git through Rstudio (there is a command line interface that I usually use, but it’s used differently for each OS and has a bit more of a learning curve).</p>
<p>After you’ve installed git, you’ll need to let Rstudio know how to find it.</p>
<figure><img src="https://support.posit.co/hc/en-us/article_attachments/203718287/Screen_Shot_2015-11-09_at_4.59.40_PM.png" alt="" class="figure mx-auto d-block"><figcaption>Global options</figcaption></figure><ol style="list-style-type: decimal"><li>Open <em>Tools &gt; Global Options</em> and click on <em>Git/SVN</em>.</li>
<li>Check <em>Enable version control interface for Rstudio projects</em>.</li>
<li>Set the path for the git executable. If you don’t know where this is, click on the <code>Terminal</code> tab in the bottom left pane and type:</li>
</ol><ul><li>Windows: <code>where git</code> - it’ll be something like <code>C:/Program Files (x86)/Git/bin/git.exe</code>
</li>
<li>MacOSX: <code>which git</code> - it’ll be something like <code>/usr/bin/git</code>
</li>
</ul><ol start="4" style="list-style-type: decimal"><li>Restart Rstudio</li>
</ol><p>The easiest way to start working with a project is to initialize an empty repository. I’ll walk you though the process with github, but you can also use bitbucket or gitlab if you prefer (although I’m not as familiar with these).</p>
<p>Head to <a href="https://github.com/" class="external-link">github</a> and if you aren’t already logged in, look for the <em>Sign in</em> and <em>Sign up</em> buttons in the top right corner. Make an account if necessary, and then sign in. On the left hand side next to <em>Top Repositories</em>, click <em>New</em>. Give your new repository a name and a description, and decide if you want it to be public or private. Check the <em>Add a README file</em> box, then create the repository.</p>
<p>Back in Rstudio,</p>
<ol style="list-style-type: decimal"><li>Open <em>File &gt; New Project</em>
</li>
<li>Select <em>Version Control &gt; Git</em>
</li>
<li>Grab the HTTPS URL from github (see picture below) and fill in the <em>Repository URL</em> box</li>
<li>Set a name for your project directory - I usually make it the same as the name of the repository on github</li>
<li>Choose where you want the project directory to be located</li>
</ol><figure><img src="fig/github-setup.png" alt="" class="figure mx-auto d-block"><figcaption>A new repo on github</figcaption></figure></section><section id="making-changes"><h2 class="section-heading">Making changes<a class="anchor" aria-label="anchor" href="#making-changes"></a>
</h2>
<hr class="half-width"><p>After you’ve set up your project, you’ll probably want to add the <code>.Rproj</code> file to version control. A new <em>Git</em> tab is available in the top right pane where you can do this. You’ll see in this panel that RStudio has created an <code>.Rproj</code> file for you when it created the project directory, and there’ll be some <strong>?</strong> next to the file name.</p>
<figure><img src="fig/git-pane.png" alt="" class="figure mx-auto d-block"><figcaption>Git pane</figcaption></figure><p>At this point, you need to know how Git thinks about your files. There are three statuses that your files can have:</p>
<ul><li>Before you have told git about any of your changes, they only exist in your working directory.</li>
<li>To tell get that you’ve made some changes to your file, you need to <strong>stage</strong> it (<code>git add</code>).</li>
<li>Tell git that you’re happy with the changed files by <strong>committing</strong> them.</li>
</ul><p>You can reset the files in your repository to an earlier version using the <strong>checkout</strong> process.</p>
<figure><img src="https://git-scm.com/book/en/v2/images/areas.png" alt="" class="figure mx-auto d-block"><figcaption>Three sections of a git project</figcaption></figure><div class="section level3">
<h3 id="staging">Staging<a class="anchor" aria-label="anchor" href="#staging"></a></h3>
<p>So how do we <strong>stage</strong> a file? Just check the box next to the file name in the <em>Git</em> panel.</p>
<figure><img src="fig/git-pane-staged.png" alt="" class="figure mx-auto d-block"><figcaption>A staged file</figcaption></figure></div>
<div class="section level3">
<h3 id="diff">Diff<a class="anchor" aria-label="anchor" href="#diff"></a></h3>
<p>At any time, you can check what you changed relative to the latest commit by clicking on <em>Diff</em>.</p>
<figure><img src="fig/git-pane-diff.png" alt="" class="figure mx-auto d-block"><figcaption>Git diff</figcaption></figure><p>In this case, all the lines are green because we’re adding a new file.</p>
</div>
<div class="section level3">
<h3 id="commit">Commit<a class="anchor" aria-label="anchor" href="#commit"></a></h3>
<p>If you’re happy with the changes you’ve made, you can <strong>commit</strong> them using the <em>Commit</em> button (next to <em>Diff</em>). You will see the same view with your changes as you did with <em>Diff</em>, and an additional box to add a commit message - this is required for all commits. Try to make it as informative as possible!</p>
<figure><img src="fig/git-pane-commit.png" alt="Git commit" class="figure mx-auto d-block"> You should get a pop-up telling you the commit was successful.</figure><figure><img src="fig/git-commit-success.png" alt="" class="figure mx-auto d-block"><figcaption>Git commit success</figcaption></figure></div>
<div class="section level3">
<h3 id="pushpull">Push/pull<a class="anchor" aria-label="anchor" href="#pushpull"></a></h3>
<p>So far all the changes we’ve made have been to the <em>local</em> repository (that exists only on your computer). After you’ve made some commits, you should <strong>push</strong> the changes to your remote repository so that your collaborators can see them, and they’re backed up in the cloud. If someone else has made changes to the same branch, you might need to <strong>pull</strong> and <strong>merge</strong> any changes that are in the repository but not on your local computer first.</p>
<figure><img src="https://www.janbasktraining.com/blog/uploads/images/image_750x_5d76346f0fbf8.jpg" alt="" class="figure mx-auto d-block"><figcaption>Working with remotes</figcaption></figure><p>You can push and pull from the same pop-up panel you get when you click <em>Commit</em>, or int the <em>Git</em> tab in the top-right pane.</p>
<figure><img src="fig/git-pane-push-pull.png" alt="" class="figure mx-auto d-block"><figcaption>Pulling and pushing</figcaption></figure><p>Your first push should be pretty straightforward.</p>
<div id="callout1" class="callout callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<div id="generating-a-token" class="callout-inner">
<h3 class="callout-title">Generating a token<a class="anchor" aria-label="anchor" href="#callout1"></a>
</h3>
<div class="callout-content">
<p>The first time you try to push to a remote repo, you will be prompted for your password. This is somewhat misleading, because this git isn’t asking your account password, but <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token" class="external-link">a token that you’ll need to generate</a>.</p>
<p>To generate a token, head to <code>github</code>, log in and click the circle icon with a down arrow next to it in the top right hand corner of your screen. Select <em>Settings</em>, and from the left-hand menu select <em>Developer Settings</em>. On the left-hand menu on the new page, select <em>Personal Access Tokens &gt; Tokens (classic)</em> . On the right hand side, click <em>Generate new token &gt; Generate new token (classic)</em>. Fill in a name for the token in the <em>Note</em> box, select an Expiration period (I usually use 90 days, and I don’t recommend ‘No expiration’), and tick the <em>repo</em> box.</p>
<p>This will generate a token that you’ll only be able to see once. Save it to a password manager in case you need it again, and then use it as your password if prompted.</p>
</div>
</div>
</div>
<p>If there are changes in the remote repository that you don’t have in your local repository, you’ll need to pull them before you can push any changes.</p>
<figure><img src="fig/git-failed-push.png" alt="" class="figure mx-auto d-block"><figcaption>A failed push</figcaption></figure><p>The first time you try a pull like this, you might get this message:</p>
<figure><img src="fig/git-failed-pull.png" alt="" class="figure mx-auto d-block"><figcaption>A failed push</figcaption></figure><p>This just means that you have to open a terminal and type in one of those options. I won’t go into details about what they all mean, but I usually use <code>git config pull.rebase false</code>. You’ll have to open a shell from the menu with <em>Tools &gt; Shell</em> (on Mac you can just use the terminal pane at the bottom left), type this command and press enter.</p>
<p>Try your pull again and it should then work. Your files should be updated!</p>
</div>
</section><section id="branches"><h2 class="section-heading">Branches<a class="anchor" aria-label="anchor" href="#branches"></a>
</h2>
<hr class="half-width"><p>I mentioned earlier that you can create <strong>branches</strong>. Their purpose is to facilitate work on the same files as your collaborators without immediate conflicts. When you are ready to integrate your changes, you can open a <strong>pull request</strong> and <strong>merge</strong> the changes.</p>
<p>While using branches is a fundamental part of git, I won’t go into any more detail than that now. You can read more about how branches work in the <a href="https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell" class="external-link">git documentation</a>.</p>
</section><section id="command-line-git"><h2 class="section-heading">Command line git<a class="anchor" aria-label="anchor" href="#command-line-git"></a>
</h2>
<hr class="half-width"><p>So far, we’ve used git through the Rstudio terminal. However, this will only get you so far, and eventually you’ll want to do something more complicated you’ll probably need to use a shell. You can open one from the menu with <em>Tools &gt; Shell</em>.</p>
<p>The <a href="https://git-scm.com/book/en/v2/Git-Branching-Branches-in-a-Nutshell" class="external-link">git documentation</a> has all the information you’ll need for using the command line, but just to get you started, you can try:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># print summary of changed, staged files</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> status</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># stage file</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> add <span class="op">&lt;</span>file1<span class="op">&gt;</span> <span class="op">&lt;</span>file2<span class="op">&gt;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co"># commit changes</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> commit <span class="at">-m</span> <span class="st">"My informative commit message"</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># push to remote</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> push</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># pull changes from remote</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> pull</span></code></pre>
</div>
</section><section id="git-gotchas"><h2 class="section-heading">Git gotchas<a class="anchor" aria-label="anchor" href="#git-gotchas"></a>
</h2>
<hr class="half-width"><p>There are a few things you should be aware of when working with git.</p>
<div class="section level3">
<h3 id="dont-add-large-files">Don’t add large files<a class="anchor" aria-label="anchor" href="#dont-add-large-files"></a></h3>
<p>Git was designed for working with source code (text files), not binaries or large datasets. Every time you check the status of your repository with <code>git status</code>, it looks at all the files that you’ve committed. If you have added large files, like NGS data, large images, or compiled binaries, git has to look through those files for changes, which can really slow things down.</p>
<p>I tend to avoid adding any of the data that I’m working with to version control, unless it’s a very small text file or image. Github also limits the size of individual files, and the total size of each repository, so avoid hitting those limits by keeping large files separate. You can still keep them in the same directory as your code, but avoid doing <code>git add</code> on them.</p>
</div>
<div class="section level3">
<h3 id="keep-other-backups">Keep other backups<a class="anchor" aria-label="anchor" href="#keep-other-backups"></a></h3>
<p>Although your code is pretty safe in the cloud, it’s good practice to keep other backups of your code elsewhere. Since your data shouldn’t be in your repository, you’ll need to think about other backups anyway. So keep your code and data backed up somewhere else, like other clouds (e.g. One Drive), CMRI shared folders and portable hard drives (but never <em>only</em> on a portable hard drive).</p>
</div>
</section><section id="resources"><h2 class="section-heading">Resources<a class="anchor" aria-label="anchor" href="#resources"></a>
</h2>
<hr class="half-width"><ul><li><a href="https://git-scm.com/book/en/v2" class="external-link">Git documentation</a></li>
<li><a href="https://dev.to/milu_franz/git-explained-the-basics-igc" class="external-link">Git basics</a></li>
<li><a href="https://support.posit.co/hc/en-us/articles/200532077" class="external-link">Posit/Rstudio support article on git</a></li>
<li><a href="https://wac-cdn.atlassian.com/dam/jcr:e7e22f25-bba2-4ef1-a197-53f46b6df4a5/SWTM-2088_Atlassian-Git-Cheatsheet.pdf?cdnVersion=649" class="external-link">git cheatsheet</a></li>
</ul><div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>Keep your files safe and keep track of changes with version control</li>
<li>Use github as a remote repository for your code</li>
<li>Stage and commit changes to your files so that git keeps track of them</li>
<li>Push your changes to your remote repository, and pull changes made by others</li>
</ul></div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</section></div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="intro-rmarkdown.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="worked-example.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="intro-rmarkdown.html" rel="prev"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous: Using &lt;code&gt;R markdown&lt;/code&gt;</a>
        <a class="chapter-link float-end" href="worked-example.html" rel="next">Next: Case study... <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
				<p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/carpentries/workbench-template-rmd/edit/main/episodes/git.Rmd" class="external-link">Edit on GitHub</a>
        
        
        
        | <a href="https://github.com/carpentries/workbench-template-rmd/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a> 
        | <a href="https://github.com/carpentries/workbench-template-rmd/" class="external-link">Source</a></p>
				<p><a href="https://github.com/carpentries/workbench-template-rmd/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:sscott@cmri.org.au">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">Template licensed under CC-BY 4.0</a> by <a href="https://carpentries.org" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.11.3" class="external-link">sandpaper (0.11.3)</a>,
        <a href="https://github.com/carpentries/pegboard/tree/0.3.2" class="external-link">pegboard (0.3.2)</a>,
      and <a href="https://github.com/carpentries/varnish/tree/0.2.13" class="external-link">varnish (0.2.13)</a>.</p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
			<i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back to top"></i><br><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://carpentries.github.io/workbench-template-rmd/git.html",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Version control with &lt;code&gt;git&lt;/code&gt;",
  "creativeWorkStatus": "active",
  "url": "https://carpentries.github.io/workbench-template-rmd/git.html",
  "identifier": "https://carpentries.github.io/workbench-template-rmd/git.html",
  "dateCreated": "2022-12-08",
  "dateModified": "2023-01-03",
  "datePublished": "2023-01-03"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

